<% provide(:title, t('user.index.title')) %>

<section id="users-controls">
  <ul class="nav nav-tabs">
    <%= tab_link_tag_with_count t('user.tab.all'), :all, users_path(params.except(:page).merge tab: :all), User.count %>
    <%= tab_link_tag_with_count t('user.tab.recent'), :recent, users_path(params.except(:page).merge tab: :recent), User.recent.count %>
  </ul>
</section>


<% if @users.any?  %>
  <% @users.each_slice(6) do |users| %>
    <div class="row">
      <% users.each do |user| %>
        <div class="col-md-2">
          <%= render 'square', user: user %>
        </div>
      <% end %>
    </div>
  <% end %>

  <div class="row">
    <div class="col-md-12">
      <%= paginate @users %>
    </div>
  </div>
<% else %>
  <div class="row">
    <div class="col-md-12">
      <div class="alert alert-warning">
        <%= t('user.index.no_results_found') %>
      </div>
    </div>
  </div>
<% end %>

