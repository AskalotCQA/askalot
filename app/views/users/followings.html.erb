<% provide :title, t("user.followings.title") %>

<%= render 'users/followings/bar', user: @user %>

<div class="tab-navigation">
  <%= render 'users/actions', user: @user %>

  <ul class="nav nav-tabs">
    <%= tab_link_tag_with_count t('user.tab.followers'), :followers, user_followings_path(params.except(:page).merge tab: :followers), @followers.unscope(:limit, :offset).size %>
    <%= tab_link_tag_with_count t('user.tab.followees'), :followees, user_followings_path(params.except(:page).merge tab: :followees), @followees.unscope(:limit, :offset).size %>
  </ul>
</div>

<div class="tab-content">
  <%= render_tab_content 'users/followings/followers', :followers, locals: { user: @user, followers: @followers } %>
  <%= render_tab_content 'users/followings/followees', :followees, locals: { user: @user, followees: @followees } %>
</div>
